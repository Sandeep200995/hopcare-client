"use strict";(self.webpackChunkhopcare_cl=self.webpackChunkhopcare_cl||[]).push([[597],{9597:function(e,s,a){a.r(s),a.d(s,{default:function(){return m}});var r=a(885),t=a(2506),n=a(2791),o=a(7689),u=a(5830),l=a(2522),c=a(3494),i=a(9434),p=a(3155),d=a(5568),h=a(184);var m=function(){var e=(0,o.s0)(),s=(0,i.I0)(),a=((0,o.UO)(),(0,o.TH)()),m=n.useContext(p.Vo).setIsAuthenticated,b=n.useContext(p.tc).setIsAppLoader,v=(0,i.v9)((function(e){return e.userData})),x=(0,n.useState)([{name:"Select",value:""},{name:"User",value:"consumer"},{name:"Hospital",value:"clinic"}]),N=(0,r.Z)(x,1)[0],f=(0,t.TA)({initialValues:{phoneNumber:"",password:"",userType:"consumer"},validateOnBlur:!0,validateOnChange:!1,validate:function(e){var s={};return e.phoneNumber||(s.phoneNumber="Please enter 10 digit phone number"),e.password||(s.password="Please enter password"),e.userType||(s.userType="Please select type of user"),s},onSubmit:function(e){b(!0),s(l.So({formData:e}))}});return(0,n.useEffect)((function(){switch(console.log("userState",v),console.log("formik.values",f.values),v.case){case c.pg:b(!1),a&&a.state&&a.state.pathName?e("".concat(a.state.pathName),{state:a.state.stateData,replace:!0}):(u.t.storeData(u.t.keys.USER_TYPE,v.userDetails.userType),f.values&&"clinic"===v.userDetails.userType?(u.t.storeData(u.t.keys.TOKEN_HS,v.userDetails.accessToken),e("/clinic_appointments",{replace:!0}),m(!0)):(u.t.storeData(u.t.keys.TOKEN_CL,v.userDetails.accessToken),e("/",{replace:!0}),m(!0)));break;case c.jm:b(!1),e("/otp",{replace:!0,state:{otp:v.userDetails.otp?v.userDetails.otp.toString():null,phoneNumber:f.values.phoneNumber,userType:f.values.userType,password:f.values.password}}),u.t.storeData(u.t.keys.USER_TYPE,v.userDetails.userType);break;case c.L6:b(!1),(0,d.Am)(v.message,{position:"top-center"})}}),[v.case]),(0,h.jsxs)("div",{className:"form-area",children:[(0,h.jsx)("h2",{children:"Login"}),(0,h.jsx)("form",{onSubmit:f.handleSubmit,noValidate:!0,children:(0,h.jsxs)("div",{className:"form-inner",children:[(0,h.jsxs)("div",{className:"form-input",children:[(0,h.jsx)("input",{type:"text",placeholder:"Mobile number",name:"phoneNumber",maxLength:10,onChange:f.handleChange,value:f.values.phoneNumber}),f.touched.phoneNumber&&f.errors.phoneNumber&&(0,h.jsx)("p",{className:"error-text",children:f.errors.phoneNumber})]}),(0,h.jsxs)("div",{className:"form-input",children:[(0,h.jsx)("input",{type:"password",name:"password",placeholder:"Password",onChange:f.handleChange,value:f.values.password}),f.touched.password&&f.errors.password&&(0,h.jsx)("p",{className:"error-text",children:f.errors.password})]}),(0,h.jsxs)("div",{className:"select-option-dropdown",children:[(0,h.jsx)("select",{name:"userType",value:f.values.userType,id:"userType",onChange:f.handleChange,children:N.map((function(e,s){return(0,h.jsx)("option",{value:e.value,children:e.name},"_".concat(s))}))}),f.touched.userType&&f.errors.userType&&(0,h.jsx)("p",{className:"error-text",children:f.errors.userType})]}),(0,h.jsx)("button",{type:"submit",className:"btn-common",children:"Submit"}),(0,h.jsxs)("button",{type:"button",className:"btn-underline",children:[(0,h.jsx)("span",{onClick:function(){return e("/register",{replace:!0})},children:"Register here!"})," "]}),(0,h.jsxs)("div",{className:"flex justify-space-between",children:[(0,h.jsx)("button",{type:"button",className:"btn-underline",children:"Back"}),(0,h.jsxs)("button",{type:"button",className:"btn-underline",children:[(0,h.jsx)("span",{onClick:function(){return e("/forgotPassword",{replace:!0})},children:"Forgot Password?"})," "]})]})]})})]})}}}]);
//# sourceMappingURL=597.035fd3c6.chunk.js.map