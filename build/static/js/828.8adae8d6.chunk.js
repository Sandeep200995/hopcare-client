"use strict";(self.webpackChunkhopcare_cl=self.webpackChunkhopcare_cl||[]).push([[828],{2632:function(e,a,t){t(2791);a.Z=t.p+"static/media/star.701bd693ab62dfbc6bc856056e1f6d07.svg"},3828:function(e,a,t){t.r(a),t.d(a,{default:function(){return f}});var s=t(4165),n=t(1413),r=t(5861),i=t(885),l=t(2791),d=t(7689),c=t(5568),o=t(4991),p=t(2632),m=t(1867),h=t(6483),u=t(7714),x=t(8970),j=t(3155),N=t(2506),v=t(184);function b(e){var a=(0,l.useState)(!1),t=(0,i.Z)(a,2),s=t[0],n=t[1];(0,l.useEffect)((function(){n(e.visible)}),[e.visible]);var r=(0,l.useState)({ptFirstName:"",ptLastName:"",ptPhoneNumber:"",ptAge:"",ptPaymentMode:"CASH",ptPaymentStatus:"Completed",ptAddress:"",ptGender:"",appointmentDate:""}),d=(0,i.Z)(r,2),c=d[0],o=d[1],p=(0,l.useRef)(),m=(0,N.TA)({innerRef:p,initialValues:c,enableReinitialize:!0,validateOnChange:!1,validateOnBlur:!1,validate:function(e){var a={};return e.ptFirstName||(a.ptFirstName="*Please enter first name"),e.ptPhoneNumber||(a.ptPhoneNumber="*Please enter phone number"),e.appointmentDate||(a.appointmentDate="*Please enter appointment date"),e.ptAge||(a.ptAge="*Please enter age"),e.ptGender||(a.ptGender="*Please select patient gender"),e.ptAddress||(a.ptAddress="*Please select patient address"),console.log("Form Errors ",a),a},onSubmit:function(a){!function(){var a=JSON.parse(JSON.stringify(m.values));a.ptPhoneNumber&&(a.ptPhoneNumber=a.ptPhoneNumber.toString());a.appointmentDate&&(a.appointmentDate=new Date(a.appointmentDate).toISOString());e.callback({type:"appointmentFormSubmit",data:{formValue:a}}),o({ptFirstName:"",ptLastName:"",ptPhoneNumber:"",ptAge:"",ptPaymentMode:"CASH",ptPaymentStatus:"Completed",ptAddress:"",ptGender:"",appointmentDate:""})}()}});return(0,v.jsxs)("div",{className:s?"modal":"modal hidden",children:[(0,v.jsx)("button",{onClick:function(){e.callback({type:"toggleModal",state:!s}),n(!s)},className:"btn--close-modal",children:"\xd7"}),(0,v.jsxs)("h2",{className:"modal__header",children:["Book your ",(0,v.jsx)("span",{className:"highlight",children:"appointment"})]}),(0,v.jsxs)("form",{className:"modal__form",noValidate:!0,onSubmit:m.handleSubmit,children:[(0,v.jsxs)("div",{className:"input-box",children:[(0,v.jsx)("label",{children:"First Name"}),(0,v.jsx)("input",{type:"text",name:"ptFirstName",value:m.values.ptFirstName,onChange:m.handleChange}),m.touched.ptFirstName&&m.errors.ptFirstName&&(0,v.jsx)("span",{className:"error-text",children:m.errors.ptFirstName})]}),(0,v.jsxs)("div",{className:"input-box",children:[(0,v.jsx)("label",{children:"Last Name"}),(0,v.jsx)("input",{type:"text",name:"ptLastName",value:m.values.ptLastName,onChange:m.handleChange}),m.touched.ptLastName&&m.errors.ptLastName&&(0,v.jsx)("span",{className:"error-text",children:m.errors.ptLastName})]}),(0,v.jsxs)("div",{className:"input-box",children:[(0,v.jsx)("label",{children:"Phone Number (+91)"}),(0,v.jsx)("input",{type:"number",name:"ptPhoneNumber",value:m.values.ptPhoneNumber,onChange:m.handleChange}),m.touched.ptPhoneNumber&&m.errors.ptPhoneNumber&&(0,v.jsx)("span",{className:"error-text",children:m.errors.ptPhoneNumber})]}),(0,v.jsxs)("div",{className:"input-box",children:[(0,v.jsx)("label",{children:"Age"}),(0,v.jsx)("input",{type:"number",name:"ptAge",value:m.values.ptAge,onChange:m.handleChange}),m.touched.ptAge&&m.errors.ptAge&&(0,v.jsx)("span",{className:"error-text",children:m.errors.ptAge})]}),(0,v.jsxs)("div",{className:"input-box select-option-dropdown",children:[(0,v.jsx)("label",{children:"Gender"}),(0,v.jsxs)("select",{name:"ptGender",value:m.values.ptGender,id:"pt_Gender",onChange:m.handleChange,children:[(0,v.jsx)("option",{value:"",children:"Select"}),(0,v.jsx)("option",{value:"M",children:"Male"}),(0,v.jsx)("option",{value:"F",children:"Female"})]}),m.touched.ptGender&&m.errors.ptGender&&(0,v.jsx)("span",{className:"error-text",children:m.errors.ptGender})]}),(0,v.jsxs)("div",{className:"input-box",children:[(0,v.jsx)("label",{children:"Address"}),(0,v.jsx)("input",{type:"text",name:"ptAddress",value:m.values.ptAddress,onChange:m.handleChange}),m.touched.ptAge&&m.errors.ptAge&&(0,v.jsx)("span",{className:"error-text",children:m.errors.ptAge})]}),(0,v.jsxs)("div",{className:"input-box",children:[(0,v.jsx)("label",{children:"Appointment date"}),(0,v.jsx)("input",{type:"date",name:"appointmentDate",min:(new Date).toISOString().split("T")[0],max:new Date((new Date).getTime()+2592e5).toISOString().split("T")[0],value:m.values.appointmentDate,onChange:m.handleChange}),m.touched.appointmentDate&&m.errors.appointmentDate&&(0,v.jsx)("span",{className:"error-text",children:m.errors.appointmentDate})]}),(0,v.jsx)("button",{type:"submit",className:"btn",children:"Confirm \u2192"})]})]})}var g=t(9434);var f=function(){var e=(0,d.s0)(),a=((0,d.s0)(),(0,d.UO)()),t=(0,g.v9)((function(e){return e.userData})),N=(0,l.useContext)(j.tc).setIsAppLoader,f=(0,l.useState)({_id:null,hospitalListDetails:[]}),P=(0,i.Z)(f,2),A=P[0],C=P[1],S=(0,l.useState)(!1),k=(0,i.Z)(S,2),y=k[0],D=k[1],F=(0,l.useState)({clinicId:null}),M=(0,i.Z)(F,2);M[0],M[1],(0,l.useEffect)((function(){Z()}),[a]);var Z=(0,l.useCallback)((0,r.Z)((0,s.Z)().mark((function e(){var t,r,i,l,d,o,p;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!a.id){e.next=36;break}return e.prev=1,e.next=4,(0,x.H$)({formData:{doctorId:a.id}});case 4:if(!((t=e.sent)&&t.data&&t.data.data&&t.data.data.hospitals.length>0)){e.next=26;break}r=[],i=0;case 8:if(!(i<t.data.data.hospitals.length)){e.next=17;break}return e.t0=r,e.next=12,(0,u.BG)({formData:{clinicId:t.data.data.hospitals[i]}});case 12:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 14:i++,e.next=8;break;case 17:return e.next=19,Promise.all(r);case 19:for(l=e.sent,d=[],o=0;o<l.length;o++)d.push(l[o].data.data?l[o].data.data:{});l&&C(t.data.data?(0,n.Z)((0,n.Z)({},t.data.data),{},{hospitalListDetails:d}):{_id:null}),N(!1),e.next=29;break;case 26:C(t.data.data?t.data.data:{_id:null}),N(!1),(0,c.Am)(t.data.message,{position:"top-center"});case 29:e.next=36;break;case 31:e.prev=31,e.t2=e.catch(1),N(!1),p=e.t2.message?e.t2.message:"Failed to fetch details",(0,c.Am)(p,{position:"top-center"});case 36:case"end":return e.stop()}}),e,null,[[1,31]])}))),[a]),G=(0,l.useCallback)((function(){var e=A.firstName,a=A.lastName,s=A.profilePic,n=A.degree,r=A.departments,i=A.hospitalListDetails;if(A._id)return(0,v.jsx)("div",{className:"dr-details-page",children:(0,v.jsxs)("div",{className:"dr-details-inner",children:[(0,v.jsx)("div",{className:"dr-img-box",children:(0,v.jsx)("img",{src:s||o,alt:"doctor-details"})}),(0,v.jsxs)("div",{className:"dr-details-tag",children:[(0,v.jsx)("div",{className:"dr-name-details",children:(0,v.jsx)("div",{children:(0,v.jsxs)("h2",{children:["Dr ".concat(e||" - "," ").concat(a||" - ")," ",n&&n.length>0?(0,v.jsx)("span",{children:n.join(",")}):null]})})}),(0,v.jsxs)("div",{className:"experince-details",children:[(0,v.jsxs)("p",{className:"icon-expr",children:[(0,v.jsx)("img",{src:h.Z,alt:"person"}),"3000+"]}),(0,v.jsxs)("p",{className:"icon-expr",children:[(0,v.jsx)("img",{src:m,alt:"experience"}),"7+ experience"]}),(0,v.jsxs)("p",{className:"icon-expr",children:[(0,v.jsx)("img",{src:p.Z,alt:"star icon"}),"4.7"]})]}),r.length>0?(0,v.jsxs)("div",{className:"dr-description",children:[(0,v.jsx)("h5",{children:"Description"}),(0,v.jsx)("p",{children:"".concat(r.join(","))})]}):null,(0,v.jsxs)("p",{children:[(0,v.jsx)("h5",{children:"Appointment Fee"}),(0,v.jsx)("p",{children:"\u20b9 200 /- "})]}),(0,v.jsxs)("div",{className:"dr-availibility",children:[(0,v.jsx)("h5",{children:"Available at Clinics"}),i&&i.length>0&&i.map((function(e,a){var s=e.name;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"btn-call-book",children:[(0,v.jsx)("p",{children:"".concat(a+1,". ").concat(s)}),(0,v.jsx)("button",{onClick:function(){console.log("userState",t),D(!y)},className:"btn-grad",children:"Book for appointment"})]}),(0,v.jsxs)("div",{className:"available-times-tag",children:[(0,v.jsx)("h5",{children:"Available-time"}),(0,v.jsxs)("div",{className:"available-time",children:[(0,v.jsx)("p",{}),(0,v.jsxs)("div",{className:"dr-day-avail",children:[(0,v.jsx)("p",{children:"Mon"}),(0,v.jsx)("p",{className:"font9",children:"2-5 PM"})]}),(0,v.jsxs)("div",{className:"dr-day-avail",children:[(0,v.jsx)("p",{children:"Tues"}),(0,v.jsx)("p",{className:"font9",children:"2-5 PM"})]}),(0,v.jsxs)("div",{className:"dr-day-avail",children:[(0,v.jsx)("p",{children:"Wed"}),(0,v.jsx)("p",{className:"font9",children:"2-5 PM"})]}),(0,v.jsxs)("div",{className:"dr-day-avail",children:[(0,v.jsx)("p",{children:"Thus"}),(0,v.jsx)("p",{className:"font9",children:"2-5 PM"})]}),(0,v.jsxs)("div",{className:"dr-day-avail",children:[(0,v.jsx)("p",{children:"Fri"}),(0,v.jsx)("p",{className:"font9",children:"2-5 PM"})]}),(0,v.jsxs)("div",{className:"dr-day-avail",children:[(0,v.jsx)("p",{children:"Sat"}),(0,v.jsx)("p",{className:"font9",children:"2-5 PM"})]})]})]})]})}))]})]})]})})}),[A]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{children:(0,v.jsx)("button",{onClick:function(){return e("/")},className:"btn-back",children:"\u2190"})}),G()]}),(0,v.jsx)(b,{visible:y,callback:function(e){console.log("callBacks @ Doctor profile Screen ",e),e&&"toggleModal"===e.type?D(e.state):e&&"appointmentFormSubmit"===e.type&&(console.log("callBacks data ",e.data),D(e.state))}}),(0,v.jsx)("div",{onClick:function(){return D(!y)},className:y?"overlay":"overlay hidden"})]})}},1867:function(e,a,t){e.exports=t.p+"static/media/certificate.a3765c6d8c8491e06027.png"},4991:function(e,a,t){e.exports=t.p+"static/media/dr.2cd9e607f0450595e80a.jpg"}}]);
//# sourceMappingURL=828.8adae8d6.chunk.js.map